<%# coding: UTF-8 %>

<%
   if defined?(content) == nil || content.nil?
     content = {}
     content[Const::Gallery::Key::THUMBNAIL_IMG] = nil
     content[Const::Gallery::Key::TITLE] = ''
     content[Const::Gallery::Key::CAPTION] = ''
     content[Const::Gallery::Key::TAGS] = []
   end
%>

<div class="grid_contents_wrapper <%= Gallery.grid_size_classname %>">
    <div class="grid_img_wrapper">
        <div class="loading_wrapper">
            <img class="loading" />
        </div>
        <div class="thumbnail_img_wrapper">
            <%= image_tag(thumbnail_gallery_path(content[Const::Gallery::Key::GALLERY_ACCESS_TOKEN]), class: 'thumbnail_img')%>
        </div>
    </div>

    <div class="info">
        <div class="title_wrapper">
            <% if !content[Const::Gallery::Key::TITLE].nil? %>
                <%= content[Const::Gallery::Key::TITLE] %>
            <% end %>
        </div>
        <div class="caption_wrapper">
            <% if !content[Const::Gallery::Key::CAPTION].nil? %>
                <%= content[Const::Gallery::Key::CAPTION] %>
            <% end %>
        </div>
        <div class="tags_wrapper">
            <% if !content[Const::Gallery::Key::TAGS].nil? %>
                <% content[Const::Gallery::Key::TAGS].each do |tag| %>
                    <%= tag.name %>
                <% end %>
            <% end %>
        </div>
    </div>
    <input type="hidden" class="<%= Const::Gallery::Key::GALLERY_ACCESS_TOKEN %>" value="<%= content[Const::Gallery::Key::GALLERY_ACCESS_TOKEN] %>" />
</div>