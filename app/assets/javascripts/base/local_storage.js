// Generated by CoffeeScript 1.9.2
var LocalStorage;

LocalStorage = (function() {
  LocalStorage.Key = (function() {
    function Key() {}

    Key.WORKTABLE_EVENT_PAGEVALUES = 'worktable_event_pagevalues';

    Key.RUN_EVENT_PAGEVALUES = 'run_event_pagevalues';

    Key.TIME_SUFFIX = '_time';

    return Key;

  })();

  function LocalStorage(key) {
    this.lstorage = localStorage;
    this.storageKey = key;
  }

  LocalStorage.prototype.saveEventPageValue = function(saveTime) {
    var h, key;
    if (saveTime == null) {
      saveTime = true;
    }
    h = PageValue.getEventPageValue(PageValue.Key.E_PREFIX);
    this.lstorage.setItem(this.storageKey, JSON.stringify(h));
    if (saveTime) {
      key = this.storageKey + this.TIME_SUFFIX;
      return this.lstorage.setItem(key, $.now());
    }
  };

  LocalStorage.prototype.loadEventPageValue = function() {
    var h;
    h = JSON.parse(this.lstorage.getItem(this.storageKey));
    return PageValue.setEventPageValue(PageValue.Key.E_PREFIX, h);
  };

  LocalStorage.prototype.getSavedTime = function() {
    var key;
    key = this.storageKey + this.TIME_SUFFIX;
    return this.lstorage.getItem(key);
  };

  LocalStorage.prototype.get = function() {
    return this.lstorage.getItem(this.storageKey);
  };

  LocalStorage.prototype.set = function(value) {
    return this.lstorage.setItem(this.storageKey, value);
  };

  return LocalStorage;

})();

//# sourceMappingURL=local_storage.js.map
