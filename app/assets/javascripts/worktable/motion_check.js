// Generated by CoffeeScript 1.10.0
var MotionCheck;

MotionCheck = (function() {
  function MotionCheck() {}

  MotionCheck.run = function(newWindow) {
    if (newWindow == null) {
      newWindow = false;
    }
    return WorktableCommon.stopAllEventPreview(function() {
      var h, left, size, target, top;
      h = PageValue.getEventPageValue(PageValue.Key.E_SUB_ROOT);
      if ((h != null) && Object.keys(h).length > 0) {
        LocalStorage.clearRun();
        target = "_runwindow";
        if (newWindow) {
          size = PageValue.getGeneralPageValue(PageValue.Key.SCREEN_SIZE);
          left = Number((window.screen.width - size.width) / 2);
          top = Number((window.screen.height - size.height) / 2);
          window.open("about:blank", target, "top=" + top + ",left=" + left + ",width=" + size.width + ",height=" + size.height + ",menubar=no,toolbar=no,location=no,status=no,resizable=no,scrollbars=no");
          document.run_form.action = '/run/new_window';
        } else {
          window.open("about:blank", target);
          document.run_form.action = '/run';
        }
        document.run_form.target = target;
        return ServerStorage.save(function() {
          return setTimeout(function() {
            return document.run_form.submit();
          }, 200);
        });
      } else {
        return Message.showWarn('No event');
      }
    });
  };

  return MotionCheck;

})();

//# sourceMappingURL=motion_check.js.map
