// Generated by CoffeeScript 1.10.0
var MyPageCommon;

MyPageCommon = (function() {
  function MyPageCommon() {}

  MyPageCommon.adjustContentsSize = function() {
    var height;
    height = $('.tabview_wrapper:first').height() - $('.nav-tabs:first').height();
    return $('#myTabContent').height(height);
  };

  MyPageCommon.initResize = function() {
    return $(window).resize((function(_this) {
      return function() {
        return _this.adjustContentsSize();
      };
    })(this));
  };

  MyPageCommon.userIconEvent = function() {
    $('.user_icon .icon_wrapper, .user_icon .icon_change_cover').hover((function(_this) {
      return function(e) {
        e.preventDefault();
        return $('.user_icon .icon_change_cover').stop(true, false).animate({
          opacity: 1
        }, 'fast');
      };
    })(this), (function(_this) {
      return function(e) {
        e.preventDefault();
        return $('.user_icon .icon_change_cover').stop(true, false).animate({
          opacity: 0
        }, 'fast');
      };
    })(this));
    $('.user_icon .icon_change_cover').off('click').on('click', (function(_this) {
      return function(e) {
        e.preventDefault();
        e.stopPropagation();
        $('#thumbnail_upload_form input[type="file"]').click();
        return $('#thumbnail_upload_form input[type="file"]').off('change').on('change', function(e) {
          $('#thumbnail_upload_form').submit();
          return false;
        });
      };
    })(this));
    return $('#thumbnail_upload_form').on('ajax:complete', (function(_this) {
      return function(event, data, status) {
        if (data.responseJSON != null) {
          data = data.responseJSON;
        } else {
          data = JSON.parse(data.responseText);
        }
        if (data.result_success) {
          $('img.user_thumbnail').attr('src', data.image_url);
          return $('#sidebar_wrapper .user_wrapper img').attr('src', data.image_url);
        }
      };
    })(this));
  };

  return MyPageCommon;

})();

//# sourceMappingURL=my_page_common.js.map
